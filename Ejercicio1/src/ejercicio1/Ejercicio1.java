package ejercicio1;

import java.math.BigInteger;
import java.util.Date;

public class Ejercicio1 {

    public static void main(String[] args) {
        
        long   inicio;
	long   fin;
	long   tiempo;
        int it = 999999999;
        
        BigInteger a = new BigInteger("88865465465846598787465465465465465465465"
                + "4888888865465465654649484684654684846548463465489449848643213"
                + "2135465465465488885465465454545454548787878788787878787878787"
                + "8787878787887882135465465465488885465465454545454548787878788"
                + "7878787878787872135465465465488885465465454545454548787878788"
                + "7878787878787872135465465465488885465465454545454548787878788"
                + "7878787878787872135465465465488885465465454545454548787878788"
                + "7878787878787872135465465465488885465465454545454548787878788"
                + "7878787878787872135465465465488885465465454545454548787878788"
                + "7878787878787872135465465465488885465465454545454548787878788"
                + "7878787878787872135465465465488885465465454545454548787878788"
                + "7878787878787872135465465465488885465465454545454548787878788"
                + "7878787878787872135465465465488885465465454545454548787878788"
                + "7878787878787872135465465465488885465465454545454548787878788"
                + "7878787878787872135465465465488885465465454545454548787878788"
                + "7878787878787872135465465465488885465465454545454548787878788"
                + "7878787878787872135465465465488885465465454545454548787878788"
                + "7878787878787872135465465465488885465465454545454548787878788"
                + "7878787878787872135465465465488885465465454545454548787878788"
                + "7878787878787872135465465465488885465465454545454548787878788"
                + "7878787878787872135465465465488885465465454545454548787878788"
                + "7878787878787872135465465465488885465465454545454548787878788"
                + "7878787878787872135465465465488885465465454545454548787878788"
                + "7878787878787872135465465465488885465465454545454548787878788"
                + "7878787878787872135465465465488885465465454545454548787878788"
                + "7878787878787872135465465465488885465465454545454548787878788"
                + "7878787878787872135465465465488885465465454545454548787878788"
                + "787878787878787");
        BigInteger b = new BigInteger("12345665437845654684987654321321465498798"
                + "7987987987987987946513216549879879846541316876543513254168769"
                + "8465484653213848564654835418978769456546546546546546465465465"
                + "1234566543784565468498765432132146549873453453453453453453498"
                + "7987987987987987946513216549879879846541316876543513254168769"
                + "8465484653213848564654835418978769456546546546546546465465465");
        
        BigInteger m = new BigInteger("16468461654654321354684531253879879875423"
                + "16468461654654321354684531253879879875423"
                + "16468461654654321354684531253879879875423"
                + "16468461654654321354684531253879879875423"
                + "16468461654654321354684531253879879875423"
                + "16468461654654321354684531253879879875423");
        BigInteger bAux = new BigInteger("0");
        BigInteger x = new BigInteger("1");
        bAux = b;
        
        
        inicio = (new Date()).getTime();
        
        for(int i = 0; i < it; i++){
            while(bAux.signum() == 1){
                if( bAux.remainder(new BigInteger("2")).compareTo(new BigInteger("1")) == 0 )
                    x = x.multiply(a).mod(m);
            
                a = a.multiply(a).mod(m);
                bAux = bAux.divide(new BigInteger("2"));
            }
        }
        
        fin = (new Date()).getTime();	
	tiempo = fin - inicio;
        
        System.out.println("Tiempo: "+tiempo/it+" segundos");
        System.out.println("Resultado: "+x);
    }
}
